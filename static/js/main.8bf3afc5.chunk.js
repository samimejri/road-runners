(this["webpackJsonproad-runners"]=this["webpackJsonproad-runners"]||[]).push([[0],{14:function(e,t,r){},15:function(e,t,r){},16:function(e,t,r){"use strict";r.r(t);var a=r(0),o=r.n(a),l=r(8),i=r.n(l),s=(r(14),r(2)),n=r(3),c=r(6),y=r(4),p=r(1),d=r(5),m=(r(15),[{elementType:"geometry",stylers:[{color:"#212121"}]},{elementType:"labels",stylers:[{visibility:"off"}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{elementType:"labels.text.stroke",stylers:[{color:"#212121"}]},{featureType:"administrative",elementType:"geometry",stylers:[{color:"#757575"}]},{featureType:"administrative.country",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"administrative.land_parcel",stylers:[{visibility:"off"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{color:"#bdbdbd"}]},{featureType:"administrative.neighborhood",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#181818"}]},{featureType:"poi.park",elementType:"geometry.fill",stylers:[{color:"#39391c"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{featureType:"poi.park",elementType:"labels.text.stroke",stylers:[{color:"#1b1b1b"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{color:"#2c2c2c"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{color:"#ffffff"},{weight:2}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#8a8a8a"}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#373737"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#c0c0c0"}]},{featureType:"road.arterial",elementType:"geometry.stroke",stylers:[{color:"#000000"},{weight:1}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#3c3c3c"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#e4e4e4"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#000000"}]},{featureType:"road.highway.controlled_access",elementType:"geometry",stylers:[{color:"#4e4e4e"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{color:"#3a3a3a"}]},{featureType:"road.local",elementType:"geometry.stroke",stylers:[{weight:.5}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{featureType:"transit",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"transit.line",elementType:"geometry.fill",stylers:[{color:"#6f0037"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#000000"}]},{featureType:"water",elementType:"geometry.fill",stylers:[{color:"#003264"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#3d3d3d"}]}]),u=[{elementType:"geometry",stylers:[{color:"#f5f5f5"}]},{elementType:"labels",stylers:[{visibility:"off"}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{elementType:"labels.text.stroke",stylers:[{color:"#f5f5f5"}]},{featureType:"administrative.land_parcel",stylers:[{visibility:"off"}]},{featureType:"administrative.land_parcel",elementType:"labels.text.fill",stylers:[{color:"#bdbdbd"}]},{featureType:"administrative.neighborhood",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#eeeeee"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#e5e5e5"}]},{featureType:"poi.park",elementType:"geometry.fill",stylers:[{color:"#cad591"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#ffffff"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{color:"#808080"},{visibility:"on"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{color:"#000000"}]},{featureType:"road.arterial",elementType:"geometry.stroke",stylers:[{color:"#000000"}]},{featureType:"road.arterial",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#515151"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#000000"},{weight:2}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.stroke",stylers:[{color:"#000000"}]},{featureType:"road.local",elementType:"geometry.stroke",stylers:[{color:"#000000"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"transit.line",elementType:"geometry",stylers:[{color:"#e5e5e5"}]},{featureType:"transit.line",elementType:"geometry.fill",stylers:[{color:"#f9ce3e"}]},{featureType:"transit.station",elementType:"geometry",stylers:[{color:"#eeeeee"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#c9c9c9"}]},{featureType:"water",elementType:"geometry.fill",stylers:[{color:"#aed7ff"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]}],f={path:google.maps.SymbolPath.FORWARD_CLOSED_ARROW,fillColor:"dodgerblue",fillOpacity:1,strokeColor:"royalblue",scale:10,strokeWeight:2,rotation:0,origin:new google.maps.Point(17,20)},h=(google.maps.SymbolPath.FORWARD_CLOSED_ARROW,new google.maps.Point(0,-1),new google.maps.Point(17,20),function(e){function t(e){var r;return Object(s.a)(this,t),(r=Object(c.a)(this,Object(y.a)(t).call(this,e))).currentPosition=void 0,r.previousPosition=void 0,r.map=void 0,r.userMarker=void 0,r.shadowMarker=void 0,r.markerDiv=void 0,r.isAdvancedMarkerOn=void 0,r.mapRendered=void 0,r.state={heading:0,useAdvancedMarker:!1},r.currentPosition=new google.maps.LatLng({lat:48.83238,lng:2.234953}),r.previousPosition=new google.maps.LatLng({lat:48.83238,lng:2.234953}),r.isAdvancedMarkerOn=!1,r.mapRendered=!1,r.changeMarkerOverlay=r.changeMarkerOverlay.bind(Object(p.a)(r)),r.applyDarkTheme=r.applyDarkTheme.bind(Object(p.a)(r)),r.applyLightTheme=r.applyLightTheme.bind(Object(p.a)(r)),r.updatePosition1=r.updatePosition1.bind(Object(p.a)(r)),r.updatePosition2=r.updatePosition2.bind(Object(p.a)(r)),r}return Object(d.a)(t,e),Object(n.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.map=new google.maps.Map(document.getElementById("map"),{center:this.currentPosition,mapTypeId:"roadmap",zoom:18,disableDefaultUI:!0,styles:u,draggable:!1,zoomControl:!1,scrollwheel:!1,disableDoubleClickZoom:!0}),this.userMarker=new google.maps.Marker({position:this.currentPosition,icon:f,optimized:!1,map:this.map}),this.mapRendered=!0,navigator.geolocation&&navigator.geolocation.watchPosition((function(t){e.positionUpdated(t)}),(function(){alert("Failed to pan to new position!")}),{enableHighAccuracy:!0,maximumAge:0,timeout:100});var t=new google.maps.OverlayView;t.draw=function(){this.getPanes().markerLayer.id="markerLayer"},t.setMap(this.map)}},{key:"changeMarkerOverlay",value:function(){this.markerDiv=document.getElementById("markerLayer"),this.markerDiv&&(this.markerDiv.innerHTML="",this.markerDiv.style.width="auto"),this.setState({useAdvancedMarker:!0}),this.rotateMap(this.state.heading)}},{key:"positionUpdated",value:function(e){var t;t=Math.round(window.google.maps.geometry.spherical.computeHeading(this.previousPosition,new google.maps.LatLng(e.coords.latitude,e.coords.longitude))),this.rotateMap(t),e.coords.speed&&e.coords.speed>3&&(this.userMarker.setPosition({lat:e.coords.latitude,lng:e.coords.longitude}),this.map.panTo({lat:e.coords.latitude,lng:e.coords.longitude}),e.coords.speed&&t&&this.props.UpdateSpeed(Math.round(3.6*e.coords.speed)),this.setState({heading:t}),this.previousPosition=new google.maps.LatLng({lat:e.coords.latitude,lng:e.coords.longitude}))}},{key:"rotateMap",value:function(e){var t=document.getElementById("map");if(null!=t&&(t.style.webkitTransform="rotateX(45deg) rotateZ("+-e+"deg)",t.style.transform="rotateX(45deg) rotateZ("+-e+"deg) ",t.style.transition="0.5s linear"),this.state.useAdvancedMarker)this.markerDiv&&(this.markerDiv.style.webkitTransform="rotateZ("+e+"deg)",this.markerDiv.style.transform="rotateZ("+e+"deg) ",this.markerDiv.style.transformOrigin="20% 25%",this.markerDiv.style.transition="0.5s linear");else{var r=f;r.rotation=e,this.userMarker.setIcon(r)}}},{key:"applyDarkTheme",value:function(){this.map.setOptions({styles:m})}},{key:"applyLightTheme",value:function(){this.map.setOptions({styles:u})}},{key:"render",value:function(){var e=this.calculateMapViewSize(),t={width:2*e,height:2*e,transform:"rotateX(45deg) "};return this.mapRendered&&(this.props.DarkThemeEnabled?this.applyDarkTheme():this.applyLightTheme()),o.a.createElement(a.Fragment,null,o.a.createElement("div",{id:"map",style:t}),o.a.createElement("div",{className:"map-items"},o.a.createElement("button",{onClick:this.updatePosition1},"Position 1"),o.a.createElement("button",{onClick:this.updatePosition2},"Position 2")))}},{key:"updatePosition2",value:function(){this.positionUpdated({coords:{latitude:48.832515,longitude:2.235443,heading:60,accuracy:.001,speed:60,altitude:0,altitudeAccuracy:.001},timestamp:Date.now()})}},{key:"updatePosition1",value:function(){this.positionUpdated({coords:{latitude:48.83238,longitude:2.234953,heading:60,accuracy:.001,speed:50,altitude:0,altitudeAccuracy:.001},timestamp:Date.now()})}},{key:"calculateMapViewSize",value:function(){return Math.min(window.innerHeight,window.innerWidth)}}]),t}(a.Component)),g=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(n.a)(t,[{key:"render",value:function(){return o.a.createElement("h1",{className:"speed"},this.props.Speed?this.props.Speed:"--"," km/h")}}]),t}(a.Component),T=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(y.a)(t).call(this,{}))).state={Speed:0,DarkTheme:!1,HUD:!1},e.setSpeed=e.setSpeed.bind(Object(p.a)(e)),e.changeMapTheme=e.changeMapTheme.bind(Object(p.a)(e)),e.enableHUD=e.enableHUD.bind(Object(p.a)(e)),e}return Object(d.a)(t,e),Object(n.a)(t,[{key:"setSpeed",value:function(e){this.setState({Speed:e})}},{key:"changeMapTheme",value:function(e){this.setState({DarkTheme:e.target.checked})}},{key:"enableHUD",value:function(e){this.setState({HUD:e.target.checked})}},{key:"render",value:function(){var e={transform:""};return this.state.HUD&&(e.transform="scaleY(-1)"),o.a.createElement("div",{className:"App grid"},o.a.createElement("div",{className:"map",style:e},o.a.createElement(h,{UpdateSpeed:this.setSpeed,DarkThemeEnabled:this.state.DarkTheme}),o.a.createElement("div",{className:"vignette"})),o.a.createElement("div",{className:this.state.DarkTheme?"speedo dark":"speedo light",style:e},o.a.createElement(g,{Speed:this.state.Speed})),o.a.createElement("div",{className:this.state.DarkTheme?"controls dark":"controls light"},o.a.createElement("div",null,o.a.createElement("p",null,o.a.createElement("input",{type:"checkbox",onChange:this.changeMapTheme}),"Use Dark Theme"),o.a.createElement("p",null,o.a.createElement("input",{type:"checkbox",onChange:this.enableHUD}),"Enable HUD"))))}}]),t}(o.a.Component),b=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function v(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var r=e.installing;null!=r&&(r.onstatechange=function(){"installed"===r.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(o.a.createElement(T,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/road-runners",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/road-runners","/service-worker.js");b?(!function(e,t){fetch(e).then((function(r){var a=r.headers.get("content-type");404===r.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):v(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):v(t,e)}))}}()},9:function(e,t,r){e.exports=r(16)}},[[9,1,2]]]);
//# sourceMappingURL=main.8bf3afc5.chunk.js.map