(this["webpackJsonproad-runners"]=this["webpackJsonproad-runners"]||[]).push([[0],{14:function(e,t,o){},15:function(e,t,o){},16:function(e,t,o){"use strict";o.r(t);var r=o(0),a=o.n(r),l=o(8),n=o.n(l),i=(o(14),o(2)),s=o(3),c=o(6),y=o(4),p=o(5),d=(o(15),o(1)),m=[{elementType:"geometry",stylers:[{color:"#212121"}]},{elementType:"labels",stylers:[{visibility:"off"}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{elementType:"labels.text.stroke",stylers:[{color:"#212121"}]},{featureType:"administrative",elementType:"geometry",stylers:[{color:"#757575"}]},{featureType:"administrative.country",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"administrative.land_parcel",stylers:[{visibility:"off"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{color:"#bdbdbd"}]},{featureType:"administrative.neighborhood",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#181818"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{featureType:"poi.park",elementType:"labels.text.stroke",stylers:[{color:"#1b1b1b"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{color:"#2c2c2c"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{color:"#0080ff"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#8a8a8a"}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#373737"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#e4e4e4"}]},{featureType:"road.arterial",elementType:"geometry.stroke",stylers:[{color:"#0080ff"},{weight:2}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#3c3c3c"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#e4e4e4"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#0080ff"},{visibility:"on"},{weight:2}]},{featureType:"road.highway.controlled_access",elementType:"geometry",stylers:[{color:"#4e4e4e"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.fill",stylers:[{color:"#e4e4e4"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.stroke",stylers:[{color:"#0080ff"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{featureType:"transit",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#000000"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#3d3d3d"}]}],f=[{elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"administrative.country",elementType:"geometry.fill",stylers:[{color:"#38cb3c"}]},{featureType:"administrative.land_parcel",stylers:[{visibility:"off"}]},{featureType:"administrative.neighborhood",stylers:[{visibility:"off"}]},{featureType:"poi.park",elementType:"geometry.fill",stylers:[{color:"#b0ffb0"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{color:"#585a5a"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{color:"#ffffff"}]},{featureType:"road.arterial",elementType:"geometry.stroke",stylers:[{color:"#ffffff"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#ffffff"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.stroke",stylers:[{color:"#ffffff"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{color:"#c0c0c0"}]},{featureType:"road.local",elementType:"geometry.stroke",stylers:[{color:"#ffffff"}]},{featureType:"transit.line",elementType:"geometry.fill",stylers:[{color:"#aa0055"}]}],u={path:google.maps.SymbolPath.FORWARD_CLOSED_ARROW,fillColor:"crimson",fillOpacity:1,strokeColor:"white",scale:8,strokeWeight:3,rotation:0,origin:new google.maps.Point(17,20)},g=(google.maps.SymbolPath.FORWARD_CLOSED_ARROW,new google.maps.Point(0,-1),new google.maps.Point(17,20),function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(y.a)(t).call(this,{}))).currentPosition=void 0,e.previousPosition=void 0,e.map=void 0,e.userMarker=void 0,e.shadowMarker=void 0,e.state={speed:0,heading:0,gheading:0},e.currentPosition=new google.maps.LatLng({lat:48.83238,lng:2.234953}),e.changeMarkerOverlay=e.changeMarkerOverlay.bind(Object(d.a)(e)),e.applyDarkTheme=e.applyDarkTheme.bind(Object(d.a)(e)),e.applyLightTheme=e.applyLightTheme.bind(Object(d.a)(e)),e}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.map=new google.maps.Map(document.getElementById("map"),{center:this.currentPosition,mapTypeId:"roadmap",zoom:18,disableDefaultUI:!0,styles:m}),this.userMarker=new google.maps.Marker({position:this.currentPosition,icon:u,optimized:!1,map:this.map}),navigator.geolocation&&navigator.geolocation.watchPosition((function(t){e.positionUpdated(t)}),(function(){alert("Failed to pan to new position!")}),{enableHighAccuracy:!0,maximumAge:0,timeout:500});var t=new google.maps.OverlayView;t.draw=function(){this.getPanes().markerLayer.id="markerLayer"},t.setMap(this.map)}},{key:"changeMarkerOverlay",value:function(){var e=document.getElementById("markerLayer");if(e){e.children[1].innerHTML="";var t=document.createElement("DIV");t.setAttribute("class","circle"),e.children[1].appendChild(t);var o=document.createElement("H1");o.innerHTML=this.state.speed.toString()+" km/h",o.setAttribute("class","speed"),e.children[1].appendChild(o)}}},{key:"positionUpdated",value:function(e){this.userMarker.setPosition({lat:e.coords.latitude,lng:e.coords.longitude}),this.map.panTo({lat:e.coords.latitude,lng:e.coords.longitude});var t=0,o=0;e.coords.heading?o=e.coords.heading:t=Math.round(window.google.maps.geometry.spherical.computeHeading(this.previousPosition,new google.maps.LatLng(e.coords.latitude,e.coords.longitude)));var r=u;r.rotation=t,this.userMarker.setIcon(r),this.rotateMap(t),e.coords.speed&&t&&o&&this.setState({speed:Math.round(e.coords.speed),heading:t,gheading:o}),this.previousPosition=new google.maps.LatLng({lat:e.coords.latitude,lng:e.coords.longitude})}},{key:"rotateMap",value:function(e){var t=document.getElementById("map");null!=t&&(t.style.webkitTransform="rotateX(45deg) rotateZ("+-e+"deg)",t.style.transform="rotateX(45deg) rotateZ("+-e+"deg)")}},{key:"applyDarkTheme",value:function(){this.map.setOptions({styles:m})}},{key:"applyLightTheme",value:function(){this.map.setOptions({styles:f})}},{key:"render",value:function(){var e=window.innerHeight>=window.innerWidth?window.innerHeight:window.innerWidth,t={width:1.5*e,height:1.5*e,transform:"rotateX(45deg)"};return a.a.createElement("div",null,a.a.createElement("div",{className:"map-container"},a.a.createElement("div",{id:"map",style:t}),a.a.createElement("div",{className:"map-items"},a.a.createElement("h1",{className:"speed"},this.state.speed?3.6*this.state.speed:"--"," km/h"),a.a.createElement("button",{onClick:this.changeMarkerOverlay},"Use advanced marker"),a.a.createElement("button",{onClick:this.applyDarkTheme},"Dark"),a.a.createElement("button",{onClick:this.applyLightTheme},"Light"))),a.a.createElement("h3",null,"Calculated heading: ",this.state.heading?this.state.heading:"--"," \xb0"),a.a.createElement("h3",null,"Google heading: ",this.state.gheading?this.state.gheading:"--"," \xb0"))}}]),t}(r.Component)),h=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"App grid-container"},a.a.createElement("div",{className:"menu"},a.a.createElement("h5",null,"Menu")),a.a.createElement("div",{className:"header"},a.a.createElement("h4",null,"Road Runners")),a.a.createElement("div",{className:"content"},a.a.createElement(g,null)),a.a.createElement("div",{className:"footer"},a.a.createElement("h5",null,"footer")))}}]),t}(a.a.Component),T=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function v(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var o=e.installing;null!=o&&(o.onstatechange=function(){"installed"===o.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}n.a.render(a.a.createElement(h,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/road-runners",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/road-runners","/service-worker.js");T?(!function(e,t){fetch(e).then((function(o){var r=o.headers.get("content-type");404===o.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):v(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):v(t,e)}))}}()},9:function(e,t,o){e.exports=o(16)}},[[9,1,2]]]);
//# sourceMappingURL=main.ba0b1644.chunk.js.map